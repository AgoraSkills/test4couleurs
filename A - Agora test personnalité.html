<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test analyse comportementale couleurs</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Styles pour les conteneurs de question et de réponse */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        h1, h2, h3 {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #003366;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .section {
            margin-bottom: 20px;
        }
        .section h2 {
            border-bottom: 2px solid #003366;
            padding-bottom: 10px;
        }
        .section p {
            text-align: justify;
            line-height: 1.6;
        }
        #question {
            font-weight: bold;
            background-color: #f0f8ff;
            font-size: 1.5em;
            text-align: center;
            border: 8px solid #003366;
            border-radius: 16px;
            padding: 10px;
            word-wrap: break-word;
            margin: 0 auto;
        }
        #answers {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 0;
        }
        #answers li {
            list-style-type: none;
            text-align: center;
            width: calc(100vw / 3 - 20px); /* ajustement pour tenir compte de l'espace */
            border: 3px solid #1e90ff; /* couleur outremer */
            border-radius: 10px;
            background-color: #f5faff;
            padding: 10px;
            margin: 10px 0; /* marge pour créer une ligne au-dessus et en dessous */
            word-wrap: break-word;
            position: relative;
        }
        #answers li:before,
        #answers li:after {
            content: "";
            display: block;
            height: 1px;
            background-color: #1e90ff; /* couleur outremer */
            position: absolute;
            left: 0;
            right: 0;
        }
        #answers li:before {
            top: -10px; /* positionner la ligne au-dessus */
        }
        #answers li:after {
            bottom: -10px; /* positionner la ligne en dessous */
        }
        canvas {
            transform: scale(0.7);
            transform-origin: top left;
        }
        button {
            font-size: 1.2em;
            padding: 10px 20px;
            background-color: #003366;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #002244;
        }
    </style>
</head>
<body>
    <h1>Test Analyse comportementale couleurs</h1>
    <form id="userForm" class="container">
        <!-- Formulaire pour les détails de l'utilisateur -->
        <div class="section">
            <label for="firstName">Prénom:</label>
            <input type="text" id="firstName" name="firstName" required>
        </div>
        <div class="section">
            <label for="lastName">Nom:</label>
            <input type="text" id="lastName" name="lastName" required>
        </div>
        <div class="section">
            <label for="email">Adresse e-mail:</label>
            <input type="email" id="email" name="email" required>
        </div>
        <button type="submit">Commencer le test</button>
    </form>
    <div id="userInfo" style="display:none;" class="container">
        <!-- Affichage des informations de l'utilisateur -->
        <h2>Informations Utilisateur</h2>
        <p id="displayFirstName"></p>
        <p id="displayLastName"></p>
        <p id="displayEmail"></p>
    </div>
    <div id="question" class="container"></div>
    <ul id="answers">
        <!-- Les réponses dynamiques vont ici -->
    </ul>
    <div id="result" class="container"></div>
    <canvas id="scoreChart" width="400" height="400"></canvas>
    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.js"></script>
    <script>
        // JavaScript pour gérer le test et la génération du PDF
// Tableau contenant toutes les questions et réponses
const questions = [
    {
        question: "Lorsque vous rencontrez quelqu'un pour la première fois, quelle est votre première réaction ?",
        answers: [
            { text: "Vous prenez les devants et vous présentez de manière directe.", score: 1000000 },
            { text: "Vous êtes enthousiaste et vous engagez rapidement la conversation.", score: 10000 },
            { text: "Vous êtes calme et vous laissez l'autre personne prendre l'initiative.", score: 100 },
            { text: "Vous observez attentivement et vous posez des questions pour mieux comprendre.", score: 1 }
        ]
    },
{
        question: "Dans une activité de loisir, quelle est votre approche préférée ?",
        answers: [
            { text: "Vous aimez prendre les choses en main et diriger le groupe.", score: 1000000 },
            { text: "Vous cherchez à créer une ambiance conviviale et impliquer tout le monde.", score: 10000 },
            { text: "Vous préférez suivre les instructions et vous adapter au rythme du groupe.", score: 100 },
            { text: "Vous vous concentrez sur les détails techniques et le respect des règles.", score: 1 }
        ]
    },
    {
        question: "Lorsque vous rencontrez un problème personnel, comment réagissez-vous généralement ?",
        answers: [
            { text: "Vous cherchez rapidement une solution efficace pour le résoudre.", score: 1000000 },
            { text: "Vous en parlez à vos amis pour avoir leur soutien et leurs conseils.", score: 10000 },
            { text: "Vous restez calme et patient, en attendant que la situation se dénoue.", score: 100 },
            { text: "Vous analysez attentivement tous les aspects du problème avant d'agir.", score: 1 }
        ]
    },

   {
        question: "Comment vous définissez vous dans la vie de tous les jours",
        answers: [
            { text: "J'aime relever des défis, il me faut de l'action.", score: 1000000 },
            { text: "Avec moi les gens ne s'ennuient jamais, j'aime divertir les autres.", score: 10000 },
            { text: "Je suis plutôt comprehensif, je n'aime pas blesser les autres.", score: 100 },
            { text: "Je suis prudent, je ne donne pas ma confiance facilement.", score: 1 }
        ]
    },
{
    question: "Quand vous êtes submergé par une émotion intense, comment retrouvez vous votre calme ?",
    answers: [
        { text: "Vous allez directement dans une salle de sport pour libérer la tension.", score: 1000000 },
        { text: "Vous vous plongez dans des activités qui vous passionnent avec des amis ou planifiez un événement fun.", score: 10000 },
        { text: "Vous prenez un moment pour vous dans un environnement tranquille, comme en lisant un bon livre ou en méditant.", score: 100 },
        { text: "Vous commencez par décomposer la situation en éléments plus petits et plus compréhensibles pour maintenir une approche rationelle et retrouver votre calme.", score: 1 }
        ]
    },
{
    question: "Quand vous devez apprendre quelque chose de nouveau, quelle est votre approche ?",
    answers: [
        { text: "Vous voulez rapidement passer à l'action et mettre en pratique.", score: 1000000 },
        { text: "Vous aimez échanger avec les autres et être stimulé par leurs idées.", score: 10000 },
        { text: "Vous prenez le temps d'assimiler les informations de manière progressive.", score: 100 },
        { text: "Vous vous concentrez sur la compréhension détaillée de la matière.", score: 1 }
        ]
    },
{
    question: "Lorsque vous devez résoudre un problème, quelle est votre première étape ?",
    answers: [
        { text: "Vous identifiez rapidement les actions à entreprendre.", score: 1000000 },
        { text: "Vous cherchez à impliquer les autres pour avoir leur avis.", score: 10000 },
        { text: "Vous prenez le temps d'examiner calmement la situation.", score: 100 },
        { text: "Vous rassemblez le plus d'informations possible.", score: 1 }
        ]
    },
{
    question: "Quand vous devez faire face à un changement inattendu, comment réagissez-vous ?",
    answers: [
        { text: "Vous saisissez l'opportunité et vous vous adaptez rapidement.", score: 1000000 },
        { text: "Vous accueillez le changement avec enthousiasme et créativité.", score: 10000 },
        { text: "Vous cherchez à maintenir la stabilité et la sécurité.", score: 100 },
        { text: "Vous analysez attentivement les implications avant de vous engager.", score: 1 }
    ]
},
{
    question: "Lorsque vous devez donner votre opinion sur un sujet, quelle est votre approche ?",
    answers: [
        { text: "Vous exprimez clairement votre point de vue sans détour.", score: 1000000 },
        { text: "Vous partagez vos idées de manière animée et engageante.", score: 10000 },
        { text: "Vous écoutez attentivement les autres avant de vous prononcer.", score: 100 },
        { text: "Vous apportez des arguments détaillés et factuels.", score: 1 }
    ]
},
{
    question: "Quand vous devez planifier une activité, quelle est votre priorité ?",
    answers: [
        { text: "Vous voulez définir des objectifs ambitieux et les atteindre.", score: 1000000 },
        { text: "Vous cherchez à impliquer les participants et à créer une dynamique positive.", score: 10000 },
        { text: "Vous voulez que l'activité se déroule de manière fluide et agréable.", score: 100 },
        { text: "Vous voulez vous assurer que tous les détails sont pris en compte.", score: 1 }
    ]
},
{
    question: "Comment vous comportez-vous quand vous êtes malade ?",
    answers: [
        { text: "Je continue mes activités sans rien changer. Je n'ai pas de temps à perdre !", score: 1000000 },
        { text: "Je m'ennuie déjà à l'idée de rester seul à la maison sans rien faire.", score: 10000 },
        { text: "Je ne veux pas contaminer mes collègues alors je reste à la maison pour me reposer.", score: 100 },
        { text: "Je vais chez le médecin et je suis sa prescription et ses conseils à la lettre.", score: 1 }
    ]
},
{
    question: "Quand vous devez communiquer avec quelqu'un, quelle est votre approche ?",
    answers: [
        { text: "Vous allez droit au but et vous vous exprimez de manière directe.", score: 1000000 },
        { text: "Vous cherchez à créer une connexion et à être enthousiaste.", score: 10000 },
        { text: "Vous êtes à l'écoute et vous vous adaptez au style de l'autre.", score: 100 },
        { text: "Vous fournissez des informations précises et structurées.", score: 1 }
    ]
},
{
    question: "Quelle est votre plus belle qualité ?",
    answers: [
        { text: "La détermination : Je sais atteindre mes objectifs", score: 1000000 },
        { text: "La sociabilité : J'ai le contact facile avec tout le monde", score: 10000 },
        { text: "L'altruisme : Je sais rendre service", score: 100 },
        { text: "La fiabilité : Je suis méticuleux et ponctuel", score: 1 }
    ]
},
{
    question: "Comment êtes-vous quand vous cuisinez en famille ?",
    answers: [
        { text: "Je file acheter tous les ingrédients et un maximum de plats préparés", score: 1000000 },
        { text: "Je mets le bazar dans la cuisine mais j'adore cuisiner !", score: 10000 },
        { text: "Je ne ménage pas mes efforts pour que tout le monde se régale", score: 100 },
        { text: "Je m'assure d'avoir tous les ingrédients et je suis la recette", score: 1 }
    ]
},
{
    question: "Vous êtes invité à une soirée entre amis, comment vous comportez-vous idéalement ?",
    answers: [
        { text: "Vous gérez les imprévus, en trouvant des solutions pour que la soirée soit agréable pour tout le monde.", score: 1000000 },
        { text: "Vous arrivez avec un grand sourire, vous animez les discussions et vous créez une ambiance chaleureuse.", score: 10000 },
        { text: "Vous vous fondez dans le groupe, vous écoutez attentivement et vous apportez votre soutien.", score: 100 },
        { text: "Vous observez d’abord, vous vous assurez de comprendre le groupe et vous participez de manière réfléchie.", score: 1 }
    ]
},
{
    question: "Vous découvrez une nouvelle activité passionnante, comment réagissez-vous ?",
    answers: [
        { text: "Vous vous lancez sans hésiter, prêt à relever le défi et à dominer la situation.", score: 1000000 },
        { text: "Vous en parlez à vos amis avec enthousiasme, vous les encouragez à essayer avec vous.", score: 10000 },
        { text: "Vous prenez le temps d'observer et de vous familiariser progressivement avec l'activité.", score: 100 },
        { text: "Vous vous renseignez en détail sur les techniques et les procédures avant de vous lancer.", score: 1 }
    ]
},
{
    question: "Vous devez organiser une surprise pour l'anniversaire d'un proche, comment procédez-vous ?",
    answers: [
        { text: "Vous prenez les choses en main, vous fixez un plan d'action et vous le suivez avec détermination.", score: 1000000 },
        { text: "Vous impliquez vos amis, vous créez une dynamique de groupe enthousiaste et créative.", score: 10000 },
        { text: "Vous vous assurez que tout le monde se sente à l'aise et que l'ambiance soit chaleureuse.", score: 100 },
        { text: "Vous planifiez méticuleusement tous les détails logistiques pour que tout se déroule sans accroc.", score: 1 }
    ]
},
{
    question: "Vous avez une journée de congé, comment choisissez-vous de la passer ?",
    answers: [
        { text: "Vous saisissez l'opportunité pour relever un défi personnel ou poursuivre un objectif ambitieux.", score: 1000000 },
        { text: "Vous passez du temps avec vos proches, vous partagez des moments de joie et de connexion.", score: 10000 },
        { text: "Vous profitez d'un environnement familier et rassurant, vous vous détendez et vous vous ressourcez.", score: 100 },
        { text: "Vous vous consacrez à une activité enrichissante qui vous permet d'approfondir vos connaissances.", score: 1 }
    ]
},
{
    question: "Vous devez résoudre un conflit avec un membre de votre famille, comment réagissez-vous ?",
    answers: [
        { text: "Vous exprimez fermement votre point de vue et vous cherchez une solution rapide.", score: 1000000 },
        { text: "Vous écoutez attentivement les différentes perspectives et vous cherchez un compromis.", score: 10000 },
        { text: "Vous restez patient et vous essayez d'apaiser la situation pour préserver l'harmonie.", score: 100 },
        { text: "Vous analysez calmement tous les aspects du problème avant de prendre une décision.", score: 1 }
    ]
},
{
    question: "Vous découvrez qu'un de vos amis a remporté un prix prestigieux, comment réagissez-vous ?",
    answers: [
        { text: "Vous le félicitez chaleureusement et vous l'encouragez à poursuivre ses ambitions.", score: 10000 },
        { text: "Vous analysez en détail les raisons de son succès et vous cherchez à comprendre le processus.", score: 1 },
        { text: "Vous vous réjouissez sincèrement pour lui et vous vous concentrez sur son bien-être.", score: 100 },
        { text: "Vous vous demandez comment vous pourriez également remporter un prix similaire.", score: 1000000 }
    ]
},
{
    question: "Vous devez faire du ménage chez vous. Comment organisez-vous cette tâche ? ",
    answers: [
        { text: "Vous planifiez tous les objectifs, puis vous les exécutez rapidement pour en finir au plus vite.", score: 1000000 },
        { text: "Vous mettez de la musique, vous organisez des mini défis amusants pour rendre le ménage plus agréable.", score: 10000 },
        { text: "Vous faites le ménage de manière organisée et tranquille, en prenant le temps nécessaire pour chaque tâche.", score: 100 },
        { text: "Vous préparez un planning minutieux pour le ménage, en faisant des listes et en vérifiant chaque tâche.", score: 1 }
    ]
},
{
    question: "Face à une situation totalement nouvelle vous êtes ...?",
    answers: [
        { text: "Aventureux, j'aime relever des défis !", score: 1000000 },
        { text: "Ouvert aux suggestions et idées des autres", score: 10000 },
        { text: "Chaleureux envers les nouvelles personnes rencontrées", score: 100 },
        { text: "Modéré. J'évite les extrèmes et je respecte les conventions", score: 1 }
    ]
},
{
    question: "Vous devez choisir une activité de loisir à faire en famille, comment procédez-vous ?",
    answers: [
        { text: "Vous proposez une activité stimulante et compétitive qui va dynamiser tout le monde.", score: 1000000 },
        { text: "Vous rassemblez vos amis pour réfléchir sur les idées les plus fun et créez une ambiance festive avec des jeux et de la musique !", score: 10000 },
        { text: "Vous préparez un programme équilibré, en prévoyant des pauses et des moments pour discuter et se détendre.", score: 100 },
        { text: "Vous faites un planning détaillé avec des étapes claires et vous vous assurez que chaque aspect de l'activité soit bien organisé.", score: 1 }
    ]
},
{
    question: "Vous devez prendre une décision importante concernant votre avenir, comment procédez-vous ?",
    answers: [
        { text: "Vous analysez rapidement les différentes options et vous choisissez la plus prometteuse.", score: 1000000 },
        { text: "Vous en discutez longuement avec vos proches pour avoir leur avis et leur soutien.", score: 10000 },
        { text: "Vous prenez le temps d'y réfléchir calmement pour trouver la solution la plus adaptée.", score: 100 },
        { text: "Vous rassemblez le plus d'informations possible avant de vous prononcer.", score: 1 }
    ]
},
{
    question: "Vous découvrez qu'un de vos proches a des difficultés personnelles, comment réagissez-vous ?",
    answers: [
        { text: "Vous cherchez rapidement des solutions concrètes pour l'aider à surmonter ses problèmes.", score: 1000000 },
        { text: "Vous l'écoutez avec empathie et vous l'encouragez à s'exprimer ouvertement sur ce qu'il traverse.", score: 10000 },
        { text: "Vous restez à ses côtés avec patience et vous faites de votre mieux pour le réconforter.", score: 100 },
        { text: "Vous l'aidez à analyser calmement la situation afin de trouver la meilleure approche.", score: 1 }
    ]
},
{
    question: "Vous découvrez qu'un de vos amis a traversé une période difficile, comment réagissez-vous ?",
    answers: [
        { text: "Vous l'encouragez à prendre les choses en main et à trouver rapidement des solutions.", score: 1000000 },
        { text: "Vous l'écoutez attentivement, vous le soutenez émotionnellement et vous l'aidez à se sentir mieux.", score: 10000 },
        { text: "Vous restez à ses côtés avec patience et vous faites de votre mieux pour le réconforter.", score: 100 },
        { text: "Vous l'aidez à analyser calmement la situation afin de trouver la meilleure approche.", score: 1 }
    ]
},
{
    question: "Vous devez organiser une soirée jeux de rôle entre amis, comment vous y prenez-vous ?",
    answers: [
        { text: "Vous fixez les objectifs de la soirée, choisissez le thème, et répartissez les rôles pour que tout soit dynamique et amusant.", score: 1000000 },
        { text: "Vous proposez des idées amusantes et engagez vos amis pour vous assurer que la soirée soit vivante et agréable !", score: 10000 },
        { text: "Vous optez pour des jeux classiques et familiers qui vont créer une ambiance chaleureuse.", score: 100 },
        { text: "Vous vous assurez que les règles et les procédures du jeu soient bien comprises.", score: 1 }
    ]
},
{
    question: "Vous vous promenez dans un parc et vous trouvez un portefeuille oublié. Que faites-vous ?",
    answers: [
        { text: "Pas de temps à perdre, je file au poste de police pour le rapporter immédiatement !", score: 1000000 },
        { text: "Trop cool, je vais pouvoir faire la fête avec les amis ce soir grâce à cet argent !", score: 10000 },
        { text: "Pas de problème, je vais le garder en lieu sûr jusqu'à ce que son propriétaire vienne le récupérer.", score: 100 },
        { text: "Commençons par examiner le contenu du portefeuille pour identifier son propriétaire en détail.", score: 1 }
    ]
},
{
    question: "Vous découvrez qu'un de vos amis a décidé de changer de carrière. Quelle est votre réaction ?",
    answers: [
        { text: "Intéressant, je me demande comment je pourrais faire pour saisir une opportunité similaire.", score: 1000000 },
        { text: "Trop cool, je suis sûr que tu vas pouvoir t'épanouir dans cette nouvelle voie ! Raconte-moi tout !", score: 10000 },
        { text: "Je suis heureux pour toi, j'espère que tu trouveras la stabilité et l'équilibre que tu recherches.", score: 100 },
        { text: "C'est une décision importante, j'aimerais en savoir plus sur tes réflexions et ton plan d'action.", score: 1 }
    ]
},
{
    question: "Vous recevez une invitation pour une soirée karaoké entre amis. Comment répondez-vous ?",
    answers: [
        { text: "Parfait, je vais pouvoir montrer à tout le monde mes talents de chanteur hors pair !", score: 1000000 },
        { text: "Trop cool, on va pouvoir s'éclater et créer une ambiance de folie sur les chansons !", score: 10000 },
        { text: "Génial, j'espère qu'on pourra choisir des classiques que tout le monde connaît pour chanter ensemble.", score: 100 },
        { text: "Intéressant, j'aimerais savoir quels sont les critères de notation pour le concours de karaoké.", score: 1 }
    ]
},
{
    question: "Vous avez rendez-vous et votre réveil n'a pas sonné ce matin !!!",
    answers: [
        { text: "Rien de tel pour me mettre de mauvaise humeur pour le reste de la journée !", score: 1000000 },
        { text: "Tant pis ! Tant qu'à être en retard, j'en profite pour trainer encore un peu...", score: 10000 },
        { text: "Je suis en panique ! Je me précipite mon téléphone pour informer de mon retard", score: 100 },
        { text: "J'ai horreur d'être en retard. Je réorganise tout mes rendez-vous de la journée !", score: 1 }
    ]
}
];


        let currentQuestionIndex = 0;
        let score = 0;
        let selectedAnswer = null;

        function shuffleQuestions() {
            questions.sort(() => Math.random() - 0.5);
        }

        function showNextQuestion() {
            const questionElement = document.getElementById('question');
            const answersElement = document.getElementById('answers');

            if (currentQuestionIndex >= questions.length) {
                showResult();
                return;
            }

            const currentQuestion = questions[currentQuestionIndex];
            questionElement.innerHTML = '';
            answersElement.innerHTML = '';

            questionElement.textContent = currentQuestion.question;

            currentQuestion.answers.forEach(answer => {
                const li = document.createElement('li');
                li.textContent = answer.text;
                li.addEventListener('click', () => selectAnswer(answer));

                if (selectedAnswer === answer) {
                    li.style.fontWeight = 'bold';
                    li.style.fontStyle = 'italic';
                }
                answersElement.appendChild(li);
            });

            if (selectedAnswer) {
                const validationButton = document.createElement('button');
                validationButton.textContent = 'Valider';
                validationButton.addEventListener('click', () => {
                    score += selectedAnswer.score;
                    selectedAnswer = null;
                    currentQuestionIndex++;
                    showNextQuestion();
                });
                answersElement.appendChild(validationButton);
            }
        }

        function selectAnswer(answer) {
            const answers = document.querySelectorAll('#answers li');
            answers.forEach(li => {
                li.style.fontWeight = 'normal';
                li.style.fontStyle = 'normal';
            });

            selectedAnswer = answer;
            showNextQuestion();
        }

        function showResult() {
            const questionElement = document.getElementById('question');
            const answersElement = document.getElementById('answers');
            const resultElement = document.getElementById('result');

            questionElement.style.display = 'none';
            answersElement.style.display = 'none';

            const formattedScore = formatScore(score);
            resultElement.textContent = `Votre score final est : ${formattedScore}`;

            const scores = calculateScores(score);
            const dominant = calculateDominant(scores);
            resultElement.innerHTML += `\nVotre dominante est : <span style="font-size: 2em; font-weight: bold;">${dominant}</span>`;

            showScoreChart(scores);

            // Collecter les données de l'utilisateur
            const data = {
                Nom: document.getElementById('lastName').value,
                Prenom: document.getElementById('firstName').value,
                Email: document.getElementById('email').value,
                Dominante: dominant,
                Rouge: scores[0],
                Jaune: scores[1],
                Vert: scores[2],
                Bleu: scores[3]
            };

            // Générer le PDF avec les données de l'utilisateur
            generatePDF(data);
        }

        function formatScore(score) {
            const formattedScore = score.toString().padStart(8, '0');
            return formattedScore.replace(/(\d{2})(?=\d{2}|$)/g, '$1   ');
        }

        function calculateScores(score) {
            const rouge = Math.floor(score / 1000000);
            const jaune = Math.floor(score / 10000) - 100 * rouge;
            const vert = Math.floor(score / 100) - 10000 * rouge - 100 * jaune;
            const bleu = score - 1000000 * rouge - 10000 * jaune - 100 * vert;
            return [rouge, jaune, vert, bleu];
        }

        function calculateDominant(scores) {
            const maxScore = Math.max(...scores);
            const dominantIndex = scores.indexOf(maxScore);
            const dominants = ['Rouge', 'Jaune', 'Vert', 'Bleu'];
            return dominants[dominantIndex];
        }

        function showScoreChart(scores) {
            const labels = ['Rouge', 'Jaune', 'Vert', 'Bleu'];
            const colors = ['red', 'yellow', 'green', 'blue'];
            const ctx = document.getElementById('scoreChart').getContext('2d');
            const myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: scores,
                        backgroundColor: colors
                    }]
                },
                options: {
                    responsive: false
                }
            });
        }

        const userForm = document.getElementById('userForm');
        userForm.addEventListener('submit', (event) => {
            event.preventDefault();

            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const email = document.getElementById('email').value;

            const displayFirstName = document.getElementById('displayFirstName');
            const displayLastName = document.getElementById('displayLastName');
            const displayEmail = document.getElementById('displayEmail');
            displayFirstName.textContent = `Prénom: ${firstName}`;
            displayLastName.textContent = `Nom: ${lastName}`;
            displayEmail.textContent = `Email: ${email}`;

            document.getElementById('userInfo').style.display = 'block';
            userForm.style.display = 'none';

            shuffleQuestions();
            showNextQuestion();
        });

        async function generatePDF(data) {
            const pdfDoc = await PDFLib.PDFDocument.create();

            const explicPdfBytes = await fetch('explicmethod.pdf').then(res => res.arrayBuffer());
            const specificPdfBytes = await fetch(`D${data.Dominante}.pdf`).then(res => res.arrayBuffer());

            const explicPdf = await PDFLib.PDFDocument.load(explicPdfBytes);
            const specificPdf = await PDFLib.PDFDocument.load(specificPdfBytes);

            const explicPages = await pdfDoc.copyPages(explicPdf, explicPdf.getPageIndices());
            explicPages.forEach(page => pdfDoc.addPage(page));

            const specificPages = await pdfDoc.copyPages(specificPdf, specificPdf.getPageIndices());
            specificPages.forEach(page => pdfDoc.addPage(page));

            const page = pdfDoc.addPage([595, 842]);

            const backgroundImageBytes = await fetch('Fond.jpg').then(res => res.arrayBuffer());
            const backgroundImage = await pdfDoc.embedJpg(backgroundImageBytes);
            page.drawImage(backgroundImage, {
                x: 0,
                y: 0,
                width: 595,
                height: 842
            });

            const headerImageBytes = await fetch('Header.jpg').then(res => res.arrayBuffer());
            const headerImage = await pdfDoc.embedJpg(headerImageBytes);
            page.drawImage(headerImage, {
                x: 0,
                y: 742,
                width: 595,
                height: 100
            });

            page.drawText(`Nom: ${data.Nom}`, { x: 100, y: 600, size: 12 });
            page.drawText(`Prénom: ${data.Prenom}`, { x: 100, y: 580, size: 12 });
            page.drawText(`Email: ${data.Email}`, { x: 100, y: 560, size: 12 });
            page.drawText(`Date: ${getFormattedDate()}`, { x: 100, y: 540, size: 12 });

            const pdfBytes = await pdfDoc.save();

            const blob = new Blob([pdfBytes], { type: 'application/pdf' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `Rapport4coul_${data.Nom}_${data.Prenom}.pdf`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function getFormattedDate() {
            const days = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];
            const months = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];
            const today = new Date();
            const day = days[today.getDay()];
            const date = today.getDate();
            const month = months[today.getMonth()];
            const year = today.getFullYear();
            return `${day} ${date} ${month} ${year}`;
        }
    </script>
</body>
</html>